(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,t,a){e.exports=a(69)},67:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),o=a.n(s),c=a(21),i=a(15),l=a(1),u=a.n(l),d=a(2),m=a(3),p=a(4),h=a(7),f=a(5),v=a(8),w=a(6),E=a(37),b=a.n(E).a.create({baseURL:"https://morning-anchorage-23503.herokuapp.com",headers:{"Access-Control-Allow-Origin":"*"}}),g="https://krulikos-crosswords-app.web.app";function S(e,t,a){var n=new Date;n.setTime(n.getTime()+60*a*60*1e3);var r="expires="+n.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"}function y(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var r=a[n];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}function k(e){return"".concat(e.getFullYear(),"-").concat(N(e.getMonth()+1),"-").concat(N(e.getDate())," ").concat(N(e.getHours()),":").concat(N(e.getMinutes()),":").concat(N(e.getSeconds()))}function N(e){return"".concat(e).padStart(2,"0")}function C(e,t){return e.number-t.number}var x=function(e,t){return function(){var a=Object(d.a)(u.a.mark((function a(n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.get("user/singleuser/".concat(e),{headers:{token:t}});case 2:r=a.sent,n({type:"GET_USER",payload:r.data});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.post("user/resend/".concat(e));case 2:n=t.sent,a({type:"RESEND_ACTIVATION",payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e,t,a,n){return function(){var r=Object(d.a)(u.a.mark((function r(s){var o;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.put("user/appoint",{userID:e,password:t,action:n},{headers:{token:a}});case 2:o=r.sent,s({type:"APPOINT_ADMIN",payload:o.data});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},D=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.get("crossword/".concat(e));case 2:n=t.sent,a({type:"GET_CROSSWORD",payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};var R=function(e){var t=e.message;return!0===e.isError?r.a.createElement("div",{className:"message-container message-error"},t):r.a.createElement("div",{className:"message-container"},t)},A=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).handleChange=function(e){switch(e.target.name){case"name":a.setState({name:e.target.value});break;case"email":a.setState({email:e.target.value});break;case"emailMessage":a.setState({emailMessage:e.target.value}),a.setState({signsLeft:1e3-e.target.value.length})}},a.showMessage=function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({message:t}),n?a.setState({isError:n}):a.setState({isError:!1}),a.setState({showMessage:!0}),setTimeout((function(){a.setState({showMessage:!1}),a.setState({message:""})}),5e3);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.handleMail=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,a.props.sendMail(a.state.name,a.state.email,a.state.emailMessage);case 4:a.showMessage(a.props.mail),a.setState({name:""}),a.setState({email:""}),a.setState({emailMessage:""}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),a.showMessage(e.t0.response.data,!0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),a.state={name:"",email:"",message:"",emailMessage:"",signsLeft:1e3},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"landing-container"},r.a.createElement("section",{id:"first"},r.a.createElement("div",null,r.a.createElement("img",{className:"image",alt:"crossword",src:"./crosswords.png"})),r.a.createElement("div",null,r.a.createElement("h2",null,"Crosswords App!"),r.a.createElement("p",null,"The best crosswords in the world! Add your own crossword, solve many crosswords from users all over the world. Four different difficulties."),r.a.createElement("a",{href:"/login"},r.a.createElement("button",{className:"form-button"},"JOIN US NOW!")))),r.a.createElement("section",{id:"second"},r.a.createElement("div",{className:"commentary-container"},r.a.createElement("p",{className:"commentary"},r.a.createElement("i",null,"This is something that I was looking for many years! Many crosswords in one place!")),r.a.createElement("p",null,"Bryan, 24, England, London")),r.a.createElement("div",{className:"commentary-container"},r.a.createElement("p",{className:"commentary"},r.a.createElement("i",null,"It is incredible that I can create my own crossword and anybody in the world can solve them!")),r.a.createElement("p",null,"Lalima, 31, India, Delhi")),r.a.createElement("div",{className:"commentary-container"},r.a.createElement("p",{className:"commentary"},r.a.createElement("i",null,"Brilliant site! When I discovered Crossword App, my life turns 180 degrees!")),r.a.createElement("p",null,"Robert, 21, Poland, Wroclaw"))),r.a.createElement("section",{id:"three"},r.a.createElement("h2",null,"Three simple steps to add crossword!"),r.a.createElement("div",{className:"steps"},r.a.createElement("div",{className:"step-container"},r.a.createElement("div",{className:"step-number"},"1"),r.a.createElement("p",null,"Create an account in Crossword App ",r.a.createElement("a",{href:"/login"},"HERE"),".")),r.a.createElement("div",{className:"step-container"},r.a.createElement("div",{className:"step-number"},"2"),r.a.createElement("p",null,"Sign in and create a crossword!")),r.a.createElement("div",{className:"step-container"},r.a.createElement("div",{className:"step-number"},"3"),r.a.createElement("p",null,"Wait until your crossword will be approved by Administrator.")))),r.a.createElement("section",{id:"four"},r.a.createElement("div",{className:"address"},r.a.createElement("i",{className:"fas fa-id-card"}),r.a.createElement("p",null,"Crossword App"),r.a.createElement("p",null,"00-000 City"),r.a.createElement("p",null,"Example Street 2"),r.a.createElement("p",null,"Telephone: 000-000-000")),r.a.createElement("div",{className:"contact-form"},r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form-container"},r.a.createElement("h2",null,"Contact us"),r.a.createElement("div",{className:"form-field"},r.a.createElement("input",{type:"text",name:"name",onChange:this.handleChange,placeholder:"Type your name..."})),r.a.createElement("div",{className:"form-field"},r.a.createElement("input",{type:"email",name:"email",onChange:this.handleChange,placeholder:"Type your email..."})),r.a.createElement("div",{className:"form-field"},r.a.createElement("textarea",{name:"emailMessage",cols:"40",rows:"10",onChange:this.handleChange,placeholder:"Type your message/question...",maxLength:"1000"}),r.a.createElement(r.a.Fragment,null,1e3===this.state.signsLeft?null:r.a.createElement("label",{className:"mini-label"},this.state.signsLeft)))),r.a.createElement("button",{onClick:this.handleMail,className:"form-button"},"SEND")))),this.state.showMessage?r.a.createElement(R,{message:this.state.message,isError:this.state.isError}):null)}}]),t}(r.a.Component),q=Object(w.b)((function(e){return{mail:e.mail}}),{sendMail:function(e,t,a){return function(){var n=Object(d.a)(u.a.mark((function n(r){var s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.post("mail/send",{name:e,email:t,message:a});case 2:s=n.sent,r({type:"SEND_MAIL",payload:s.data});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(A);function M(){for(var e=1,t=[];e<101;)t.push(e),e++;return t.map((function(e){return r.a.createElement("option",{value:e},e)}))}function _(e){var t=e.questions,a=e.handleDelete;return t.map((function(e){return"across"===e.type?r.a.createElement("div",{className:"single-question"},r.a.createElement("p",null,e.number,". ",e.text),r.a.createElement("button",{onClick:a.bind(null,e),className:"question-button"},"X")):null}))}function I(e){var t=e.crossword,a=[];return t.map((function(e){e.map((function(e){""!==e.password&&a.push({value:e.value,number:e.password})}))})),a.sort(C),a.map((function(e){return r.a.createElement("td",null,r.a.createElement("div",{className:"field-container"},r.a.createElement("input",{readOnly:"true",type:"text",className:"field",value:e.value}),r.a.createElement("div",{className:"question-number"},e.number)))}))}function T(e){var t=e.questions,a=e.handleDelete;return t.map((function(e){return"down"===e.type?r.a.createElement("div",{className:"single-question"},r.a.createElement("p",null,e.number,". ",e.text),r.a.createElement("button",{onClick:a.bind(null,e),className:"question-button"},"X")):null}))}function P(e){var t=e.handleChange,a=e.handleClick,n=e.setQuestion,s=e.setPassword,o=e.columns,c=e.questionState,i=e.passwordState,l=e.questionForm;return o.map((function(e){return"blank"!==e.value?r.a.createElement("td",null,r.a.createElement("div",{className:"field-container",onClick:a.bind(null,e.name),id:e.name},r.a.createElement("input",{onChange:t.bind(),type:"text",maxLength:"1",value:e.value,name:e.name,className:"field"}),c?r.a.createElement("select",{onChange:n.bind(),id:e.name,className:"question-select"},r.a.createElement("option",{value:""}),r.a.createElement(M,null)):null,i?r.a.createElement("select",{onChange:s.bind(),id:e.name,className:"password-select"},r.a.createElement("option",{value:""}),r.a.createElement(M,null)):null,l?r.a.createElement("input",{id:e.name,className:"question-range",type:"checkbox"}):null,r.a.createElement("div",{id:e.name,className:"question-number",style:{visibility:"none"}}),r.a.createElement("div",{id:e.name,className:"password-number",style:{visibility:"none"}}))):r.a.createElement("td",null,r.a.createElement("div",{className:"field-container",onClick:a.bind(null,e.name),id:e.name},r.a.createElement("input",{onChange:t.bind(),type:"text",maxLength:"1",value:"",name:e.name,className:"field disabled"})))}))}var U=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).componentDidMount=Object(d.a)(u.a.mark((function e(){var t,n,r,s,o,c,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y("jwt_access"),n=y("customerID"),!t){e.next=13;break}return e.prev=3,e.next=6,a.props.getUser(n,t);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return",window.location.replace("".concat(g,"/login")));case 11:e.next=14;break;case 13:return e.abrupt("return",window.location.replace("".concat(g,"/login")));case 14:if(a.props.user){for(r=[],s=0;s<a.state.down;s++)for(o=Number(a.state.across),r[s]=new Array(o),c=0;c<r[s].length;c++)i=s+65,l=c+1,r[s][c]={name:String.fromCharCode(i)+l.toString(),value:"",password:"",question:"",questionRange:[]};a.setState({userId:n}),a.setState({crossWord:r})}else window.location.replace("".concat(g,"/login"));case 15:case"end":return e.stop()}}),e,null,[[3,8]])}))),a.handleChange=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=a.state.crossWord).map((function(e){e.map((function(e){e.name===t.target.name&&(e.value=t.target.value.toUpperCase())}))})),e.next=4,a.setState({crossWord:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleQuestionChange=function(e){switch(e.target.name){case"question-number":a.setState({questionNumber:e.target.value});break;case"question-text":a.setState({questionText:e.target.value});break;case"question-type":a.setState({questionType:e.target.value})}},a.renderRows=function(e,t,n,s,o,c,i){var l=a.state.crossWord;return a.state.crossWord.map((function(a,u){return r.a.createElement("tr",{key:u},r.a.createElement(P,{handleChange:e,handleClick:t,setQuestion:n,setPassword:s,columns:l[u],questionState:o,passwordState:c,questionForm:i,key:u}))}))},a.setQuestion=function(e){a.state.crossWord.map((function(t){t.map((function(t){t.name===e.currentTarget.id&&(t.question=e.currentTarget.value)}))})),Array.from(document.getElementsByClassName("question-number")).map((function(t){t.id===e.currentTarget.id&&(t.innerHTML=e.currentTarget.value)}))},a.setPassword=function(e){var t=a.state.solution;a.state.crossWord.map((function(a){a.map((function(a){a.name===e.currentTarget.id&&(a.password=e.currentTarget.value),""!==a.password&&t.push({number:a.password,value:a.value})}))})),t.sort(a.compareNumbers),a.setState({solution:t}),Array.from(document.getElementsByClassName("password-number")).map((function(t){t.id===e.currentTarget.id&&(t.innerHTML=e.currentTarget.value)}))},a.showMessage=function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({message:t}),n?a.setState({isError:n}):a.setState({isError:!1}),a.setState({showMessage:!0}),setTimeout((function(){a.setState({showMessage:!1}),a.setState({message:""})}),5e3);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.save=Object(d.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,a.state.crossWord.map((function(e){e.map((function(e){if(""===e.value)return t=!0,a.showMessage("All fields must be filled!",!0)}))})),t){e.next=16;break}return n=[],a.state.crossWord.map((function(e){e.map((function(e){""!==e.password&&n.push({value:e.value,number:e.password})}))})),n.sort(a.compareNumbers),e.prev=6,r=y("jwt_access"),e.next=10,a.props.addCrossword(a.state.crossWord,a.state.questions,n,a.state.userId,r);case 10:return e.abrupt("return",a.showMessage(a.props.crossword));case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",a.showMessage(e.t0.response.data,!0));case 16:case"end":return e.stop()}}),e,null,[[6,13]])}))),a.handleClick=function(e){var t=document.getElementById(e);if(a.state.blank){var n=!0,r=!1,s=void 0;try{for(var o,c=t.childNodes[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var i=o.value,l=i.attributes.class.value.split(" ");if("INPUT"!==i.tagName||l.includes("disabled")){if("INPUT"===i.tagName&&l.includes("disabled")){i.removeAttribute("disabled"),i.setAttribute("class","field"),i.style.backgroundColor="white";for(var u=0;u<a.state.crossWord.length;u++)a.state.crossWord[u].map((function(t){e===t.name&&(t.value="")}))}}else{i.setAttribute("class","field disabled"),i.style.backgroundColor="black",i.value="";for(var d=0;d<a.state.crossWord.length;d++)a.state.crossWord[d].map((function(t){e===t.name&&(t.value="blank",t.question="",t.password="",t.questionRange=[])}))}}}catch(m){r=!0,s=m}finally{try{n||null==c.return||c.return()}finally{if(r)throw s}}}},a.handleEdit=function(e){if(a.setState({questionForm:!1}),a.state.blank||a.state.question||a.state.password)return a.setState({blank:!1}),a.setState({question:!1}),a.setState({password:!1}),Array.from(document.getElementsByClassName("question-select")).map((function(e){e.style.visibility="hidden"})),Array.from(document.getElementsByClassName("password-select")).map((function(e){e.style.visibility="hidden"})),void Array.from(document.getElementsByClassName("edit-button")).map((function(e){e.setAttribute("class","edit-button")}));switch(a.setState({blank:!1}),a.setState({question:!1}),a.setState({password:!1}),e.target.name){case"blank":a.setState({blank:!0}),document.getElementById("blank-button").setAttribute("class","edit-button button-active");break;case"question":a.setState({question:!0}),document.getElementById("question-button").setAttribute("class","edit-button button-active");break;case"password":a.setState({password:!0}),document.getElementById("password-button").setAttribute("class","edit-button button-active")}},a.handleQuestion=function(){a.setState({questionForm:!0}),a.setState({blank:!1}),a.setState({question:!1}),a.setState({password:!1}),Array.from(document.getElementsByClassName("edit-button")).map((function(e){e.setAttribute("class","edit-button")}))},a.addQuestion=Object(d.a)(u.a.mark((function e(){var t,n,r,s,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setState({error:""}),a.setState({addQuestion:!0}),""!==a.state.questionType){e.next=4;break}return e.abrupt("return",a.setState({error:"Select type of question!"}));case 4:if(""!==a.state.questionText){e.next=6;break}return e.abrupt("return",a.setState({error:"You must write question!"}));case 6:if(!isNaN(a.state.questionNumber)&&""!==a.state.questionNumber){e.next=8;break}return e.abrupt("return",a.setState({error:"Question number is not a number."}));case 8:return e.next=10,a.state.questions.map((function(e){a.state.questionNumber===e.number&&a.state.questionType===e.type&&(a.setState({error:"Question with this number already exists!"}),a.setState({addQuestion:!1}))}));case 10:if(!a.state.addQuestion){e.next=28;break}if(t=a.state.questions,n={number:a.state.questionNumber,text:a.state.questionText,type:a.state.questionType},r=document.getElementsByClassName("question-range"),s=Array.from(r),o=[],s.map((function(e){e.checked&&o.push(e.id)})),0!==o.length){e.next=19;break}return e.abrupt("return",a.setState({error:"You have to set up question range!"}));case 19:c=a.state.crossWord,o.map((function(e){c.map((function(t){t.map((function(t){t.name===e&&("across"===a.state.questionType?t.questionRange.push("A".concat(a.state.questionNumber)):"down"===a.state.questionType&&t.questionRange.push("D".concat(a.state.questionNumber)))}))}))})),t.push(n),t.sort(a.compareNumbers),a.setState({questions:t}),a.setState({crossWord:c}),a.setState({questionForm:!1}),e.next=29;break;case 28:return e.abrupt("return");case 29:case"end":return e.stop()}}),e)}))),a.renderQuestions=function(){a.state.questions.map((function(e){return r.a.createElement("p",null,e.number,". ",e.text)}))},a.handleDeleteQuestion=function(e){var t,n=a.state.questions;a.state.questions.map((function(t,a){t.type===e.type&&t.number===e.number&&n.splice(a,1)})),t="across"===e.type?"A"+e.number:"D"+e.number;var r=a.state.crossWord;r.map((function(e){e.map((function(e){if(e.questionRange.includes(t)){var a=e.questionRange.indexOf(t);e.questionRange.splice(a,1)}}))})),a.setState({crossWord:r}),a.setState({questions:n})},a.closeHelp=function(){a.setState({showHelp:!1}),document.getElementById("mask").remove()},a.showHelp=function(){var e=document.getElementById("root"),t=document.createElement("div");t.setAttribute("id","mask"),e.after(t),a.setState({showHelp:!0})},a.state={crossWord:[],across:e.across,down:e.down,question:!1,password:!1,blank:!1,error:"",questionForm:!1,questionType:"",questionNumber:"",questionText:"",questions:[],addQuestion:!0,solution:[],userId:"",showHelp:!1,message:"",showMessage:!1},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"compareNumbers",value:function(e,t){return e.number-t.number}},{key:"render",value:function(){var e=r.a.createElement("div",{className:"help-container"},r.a.createElement("button",{onClick:this.closeHelp,style:{alignSelf:"flex-end"},className:"form-button"},"Close"),r.a.createElement("div",null,"If you want to add blank value (black field) just click on ",r.a.createElement("button",{className:"edit-button"},"BLANK")," and select whick fields have to be blank"),r.a.createElement("div",null,"If you want to add question mark to crossword just click on ",r.a.createElement("button",{className:"edit-button"},"QUESTION")," and select question number from drop-down list in proper field"),r.a.createElement("div",null,"If you want to add solution mark to crossword just click on ",r.a.createElement("button",{className:"edit-button"},"SOLUTION")," button and select solution number from drop-down list in proper field"),r.a.createElement("div",null,"If you want to add a question just click ",r.a.createElement("button",{className:"form-button"},"Add question")," button and type question and number and select type of it in form. In addition you have to select range of question, you will do this by selecting checkboxes in proper fields which belongs to question."));return r.a.createElement("div",{className:"content flex column"},r.a.createElement("div",{className:"table-container"},r.a.createElement("button",{className:"form-button",onClick:this.showHelp},"HELP"),r.a.createElement("div",{className:"edit-panel-container"},r.a.createElement("button",{className:"edit-button",id:"blank-button",name:"blank",onClick:this.handleEdit},"BLANK"),r.a.createElement("button",{className:"edit-button",id:"password-button",name:"password",onClick:this.handleEdit},"SOLUTION"),r.a.createElement("button",{className:"edit-button",id:"question-button",name:"question",onClick:this.handleEdit},"QUESTION")),r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,this.renderRows(this.handleChange,this.handleClick,this.setQuestion,this.setPassword,this.state.question,this.state.password,this.state.questionForm)))),r.a.createElement("div",{className:"under-table-container"},r.a.createElement("div",{className:"questions-editor-container"},r.a.createElement("button",{onClick:this.handleQuestion,className:"form-button"},"Add question"),this.state.questionForm?r.a.createElement("div",{className:"form-container"},r.a.createElement("label",null,"Question number"),r.a.createElement("input",{type:"number",name:"question-number",onChange:this.handleQuestionChange}),r.a.createElement("label",null,"Question"),r.a.createElement("input",{type:"text",name:"question-text",onChange:this.handleQuestionChange}),r.a.createElement("label",null,"Type"),r.a.createElement("select",{name:"question-type",onChange:this.handleQuestionChange},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"across"},"ACROSS"),r.a.createElement("option",{value:"down"},"DOWN")),r.a.createElement("button",{onClick:this.addQuestion,className:"form-button"},"ADD")):null),r.a.createElement("div",{className:"questions-container"},r.a.createElement("div",{className:"margin flex column"},r.a.createElement("h4",{className:"questions"},"ACROSS"),r.a.createElement(_,{questions:this.state.questions,handleDelete:this.handleDeleteQuestion})),r.a.createElement("div",{className:"margin flex column"},r.a.createElement("h4",{className:"questions"},"DOWN"),r.a.createElement(T,{questions:this.state.questions,handleDelete:this.handleDeleteQuestion}))),r.a.createElement("div",{className:"solution-container"},r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement(I,{crossword:this.state.crossWord}))))),r.a.createElement("button",{className:"form-button",onClick:this.save},"SEND CROSSWORD!"),this.state.error),this.state.showHelp?e:null,this.state.showMessage?r.a.createElement(R,{message:this.state.message,isError:this.state.isError}):null)}}]),t}(r.a.Component),L=Object(w.b)((function(e){return{crossword:e.crossword,user:e.user}}),{addCrossword:function(e,t,a,n,r){return function(){var s=Object(d.a)(u.a.mark((function s(o){var c;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,b.post("crossword/add/".concat(n),{values:e,questions:t,solution:a,addedBy:n},{headers:{token:r}});case 2:c=s.sent,o({type:"ADD_CROSSWORD",payload:c.data});case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},getUser:x})(U),W=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).handleChange=function(e){switch(a.setState({error:""}),e.target.name){case"across":a.setState({across:e.target.value});break;case"down":a.setState({down:e.target.value})}},a.handleClick=function(e){console.log(a.state.across),a.state.across>3&&a.state.across<21&&a.state.down>3&&a.state.down<21?(a.setState({create:!0}),a.setState({header:"Create your crossword!"})):a.setState({error:"Size of rows and columns should be between 4 and 20!"})},a.state={across:4,down:4,create:!1,error:"",header:"Select the size of your crossword! Minimum is 4x4 and Maximum is 20x20"},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"form-container"},r.a.createElement("label",null,"Down"),r.a.createElement("input",{name:"down",type:"number",min:"4",max:"20",onChange:this.handleChange,value:this.state.down,required:!0}),r.a.createElement("label",null,"Across"),r.a.createElement("input",{name:"across",type:"number",min:"4",max:"20",onChange:this.handleChange,value:this.state.across}),r.a.createElement("button",{className:"form-button",name:"create",onClick:this.handleClick},"CREATE"),this.state.error));return r.a.createElement("div",{className:"container flex column"},r.a.createElement("h2",null,this.state.header),this.state.create?r.a.createElement(L,{across:this.state.across,down:this.state.down}):e)}}]),t}(r.a.Component),B=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).handleSwitcher=function(e){switch(a.setState({error:""}),e.target.name){case"signin":a.setState({switcher:1});break;case"signup":a.setState({switcher:2})}},a.handleChange=function(e){switch(a.setState({error:""}),e.target.name){case"login":a.setState({login:e.target.value});break;case"password":a.setState({password:e.target.value});break;case"confirmPassword":a.setState({confirmPassword:e.target.value});break;case"email":a.setState({email:e.target.value})}},a.handleSignIn=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,a.props.userLogin(a.state.login,a.state.password);case 4:window.location.replace("".concat(g)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a.setState({error:e.t0.response.data});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),a.handleSignUp=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,a.props.addUser(a.state.login,a.state.password,a.state.confirmPassword,a.state.email);case 4:window.location.replace("".concat(g,"/activate-now/").concat(a.props.user._id)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a.setState({error:e.t0.response.data});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),a.state={login:"",password:"",confirmPassword:"",email:"",switcher:1,error:""},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=r.a.createElement("form",{className:"form",id:"login-form"},r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form-field"},r.a.createElement("label",null,"Login"),r.a.createElement("input",{type:"text",name:"login",value:this.state.login,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-field"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",onChange:this.handleChange,value:this.state.password,required:!0})),r.a.createElement("button",{onClick:this.handleSignIn,className:"form-button"},"SIGN IN"),r.a.createElement("a",{className:"hover",href:"".concat(g,"/login-problems")},"Have problems with sign in?"))),t=r.a.createElement("form",{className:"form",id:"login-form"},r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form-field"},r.a.createElement("label",null,"Login"),r.a.createElement("input",{type:"text",name:"login",onChange:this.handleChange,required:!0,value:this.state.login})),r.a.createElement("div",{className:"form-field"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-field"},r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{type:"password",name:"confirmPassword",onChange:this.handleChange,required:!0}),r.a.createElement("div",{className:"form-field"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",name:"email",value:this.state.email,onChange:this.handleChange,required:!0}))),r.a.createElement("button",{onClick:this.handleSignUp,className:"form-button"},"SIGN UP")));return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"login-switcher"},1===this.state.switcher?r.a.createElement("button",{className:"button-active",name:"signin",onClick:this.handleSwitcher},"SIGN IN"):r.a.createElement("button",{name:"signin",onClick:this.handleSwitcher},"SIGN IN"),2===this.state.switcher?r.a.createElement("button",{className:"button-active",name:"signup",onClick:this.handleSwitcher},"CREATE ACCOUNT"):r.a.createElement("button",{name:"signup",onClick:this.handleSwitcher},"CREATE ACCOUNT")),1===this.state.switcher?e:t,this.state.error))}}]),t}(r.a.Component),Q=Object(w.b)((function(e){return{user:e.user}}),{userLogin:function(e,t){return function(){var a=Object(d.a)(u.a.mark((function a(n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.post("user/login",{login:e,password:t});case 2:S("customerID",(r=a.sent).data._id,240),S("jwt_access",r.data.jwt_access,240),n({type:"USER_LOGIN",payload:r.data});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},addUser:function(e,t,a,n){return function(){var r=Object(d.a)(u.a.mark((function r(s){var o;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.post("user/register",{login:e,password:t,confirmPassword:a,email:n});case 2:o=r.sent,s({type:"ADD_USER",payload:o.data});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})(B),G=function(e){var t=e.user,a=e.enter,n=e.leave,s=e.signOut;return t.login?r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{name:"create",href:"/create"},r.a.createElement("div",{onMouseEnter:a.bind(),onMouseLeave:n.bind(),name:"create",className:"header-element"},r.a.createElement("i",{name:"create",className:"fas fa-pencil-alt"}),r.a.createElement("div",{name:"create",id:"text-create"},"Create"))),r.a.createElement("a",{name:"account",href:"/account"},r.a.createElement("div",{onMouseEnter:a.bind(),onMouseLeave:n.bind(),name:"account",className:"header-element"},r.a.createElement("i",{name:"account",className:"fas fa-user-cog"}),r.a.createElement("div",{id:"text-account",name:"account"},"Account"))),r.a.createElement("div",{name:"signout",onMouseEnter:a.bind(),onMouseLeave:n.bind(),onClick:s.bind(null),className:"header-element"},r.a.createElement("i",{name:"signout",className:"fas fa-power-off"}),r.a.createElement("div",{name:"signout",id:"text-signout"},"Sign Out"))):r.a.createElement("a",{name:"signin",href:"/login"},r.a.createElement("div",{onMouseEnter:a.bind(),onMouseLeave:n.bind(),name:"signin",className:"header-element"},r.a.createElement("i",{name:"signin",className:"fas fa-user"}),r.a.createElement("div",{name:"signin",id:"text-signin"},"Sign in")))},F=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).handleEnter=function(e){var t=e.target.attributes.name.value;document.getElementById("text-".concat(t)).style.display="block"},a.handleLeave=function(e){var t=e.target.attributes.name.value;document.getElementById("text-".concat(t)).style.display="none"},a.showMessage=function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({message:t}),n?a.setState({isError:n}):a.setState({isError:!1}),a.setState({showMessage:!0}),setTimeout((function(){a.setState({showMessage:!1}),a.setState({message:""})}),5e3);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.getRandom=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.props.getRandomCrossword();case 3:window.location.replace("".concat(g,"/crosswords/").concat(a.props.crossword.ID)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a.showMessage(e.t0.response.data,!0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),a.handleSignOut=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.userSignOut();case 2:window.location.replace("".concat(g));case 3:case"end":return e.stop()}}),e)}))),a.state={user:{},loaded:!1,message:"",showMessage:!1},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y("jwt_access"),a=y("customerID"),!t){e.next=14;break}return e.prev=3,e.next=6,this.props.getUser(a,t);case 6:this.setState({user:this.props.user}),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(3),S("customerID","",1e-5),S("jwt_access","",1e-5),e.abrupt("return",window.location.replace("".concat(g)));case 14:this.setState({loaded:!0});case 15:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.loaded?r.a.createElement("div",{className:"header-container"},r.a.createElement("a",{name:"home",href:"/"},r.a.createElement("div",{name:"home",onMouseLeave:this.handleLeave,onMouseEnter:this.handleEnter,className:"header-element"},r.a.createElement("i",{name:"home",className:"fas fa-home"}),r.a.createElement("div",{name:"home",id:"text-home"},"Home"))),r.a.createElement("a",{name:"random",onClick:this.getRandom},r.a.createElement("div",{name:"random",onMouseLeave:this.handleLeave,onMouseEnter:this.handleEnter,className:"header-element"},r.a.createElement("i",{name:"random",className:"fas fa-dice"}),r.a.createElement("div",{name:"random",id:"text-random"},"Random"))),r.a.createElement("a",{name:"crosswords",href:"/crosswords"},r.a.createElement("div",{name:"crosswords",onMouseLeave:this.handleLeave,onMouseEnter:this.handleEnter,className:"header-element"},r.a.createElement("i",{name:"crosswords",className:"fas fa-chess-board"}),r.a.createElement("div",{name:"crosswords",id:"text-crosswords"},"Crosswords"))),r.a.createElement(G,{user:this.state.user,enter:this.handleEnter,leave:this.handleLeave,signOut:this.handleSignOut})):null,this.state.showMessage?r.a.createElement(R,{message:this.state.message,isError:this.state.isError}):null)}}]),t}(r.a.Component),V=Object(w.b)((function(e){return{user:e.user,crossword:e.crossword}}),{getUser:x,userSignOut:function(){return function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S("customerID","",1e-5),S("jwt_access","",1e-5);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},getRandomCrossword:function(){return function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("crossword/r/random");case 2:a=e.sent,t({type:"GET_RANDOM_CROSSWORD",payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(F);var Y=function(){return r.a.createElement("div",{className:"loader-container"},r.a.createElement("div",{className:"ui active centered inline loader"}),r.a.createElement("p",null,"Loading"))},H=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).componentDidMount=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y("jwt_access"),n=y("customerID"),!t){e.next=11;break}return e.prev=3,e.next=6,a.props.getUser(n,t);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return",window.location.replace("".concat(g,"/login")));case 11:return a.setState({user:a.props.user}),e.next=14,a.props.getAddedCrosswords(a.state.user._id,a.state.addedSite);case 14:return e.next=16,a.setState({addedCrosswords:a.props.crosswords.crosswords});case 16:return e.next=18,a.setState({addCrL:a.props.crosswords.length});case 18:return e.next=20,a.props.getSolvedCrosswords(a.state.user._id,a.state.solvedSite);case 20:return e.next=22,a.setState({solvedCrosswords:a.props.crosswords.crosswords});case 22:return e.next=24,a.setState({slvCrL:a.props.crosswords.length});case 24:return e.next=26,a.props.getProgressCrosswords(a.state.user._id,a.state.progressSite);case 26:return e.next=28,a.setState({progressCrosswords:a.props.crosswords.crosswords});case 28:return e.next=30,a.setState({prCrL:a.props.crosswords.length});case 30:10*a.state.addedSite>=a.state.addCrL&&a.setState({lastSiteAdded:!0}),10*a.state.solvedSite>=a.state.slvCrL&&a.setState({lastSiteSolved:!0}),10*a.state.progressSite>=a.state.prCrL&&a.setState({lastSiteProgress:!0}),a.setState({loaded:!0});case 34:case"end":return e.stop()}}),e,null,[[3,8]])}))),a.handleSection=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setState({prevSection:a.state.section}),a.setState({section:t.target.attributes.section.value}),"details"!==t.target.attributes.section.value){e.next=11;break}return a.setState({loaded:!1}),e.next=6,a.props.getCrossword(Number(t.target.attributes.crossword.value));case 6:a.setState({crosswordDetails:a.props.crossword}),a.setState({dtlRts:a.props.crossword.ratings.length}),a.setState({dtlSlv:a.props.crossword.solvedBy.length}),a.setState({dtlAdb:a.props.crossword.addedBy.login}),a.setState({loaded:!0});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleSite=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({loaded:!1}),e.t0=a.state.section,e.next="added"===e.t0?4:"solved"===e.t0?22:"continue"===e.t0?40:58;break;case 4:n=a.state.addedSite,e.t1=t.target.attributes.action.value,e.next="prev"===e.t1?8:"next"===e.t1?11:14;break;case 8:return e.next=10,a.setState({addedSite:n-1});case 10:return e.abrupt("break",15);case 11:return e.next=13,a.setState({addedSite:n+1});case 13:case 14:return e.abrupt("break",15);case 15:return e.next=17,a.props.getAddedCrosswords(a.state.user._id,a.state.addedSite);case 17:return a.setState({addedCrosswords:a.props.crosswords.crosswords}),a.setState({addCrL:a.props.crosswords.length}),2*a.state.addedSite>=a.state.addCrL?a.setState({lastSiteAdded:!0}):a.setState({lastSiteAdded:!1}),a.setState({loaded:!0}),e.abrupt("break",58);case 22:n=a.state.solvedSite,e.t2=t.target.name,e.next="prev"===e.t2?26:"next"===e.t2?29:32;break;case 26:return e.next=28,a.setState({solvedSite:n-1});case 28:return e.abrupt("break",33);case 29:return e.next=31,a.setState({solvedSite:n+1});case 31:case 32:return e.abrupt("break",33);case 33:return e.next=35,a.props.getSolvedCrosswords(a.state.user._id,a.state.solvedSite);case 35:return a.setState({solvedCrosswords:a.props.crosswords.crosswords}),a.setState({slvCrL:a.props.crosswords.length}),10*a.state.solvedSite>=a.state.slvCrL?a.setState({lastSiteSolved:!0}):a.setState({lastSiteSolved:!1}),a.setState({loaded:!0}),e.abrupt("break",58);case 40:n=a.state.progressSite,e.t3=t.target.name,e.next="prev"===e.t3?44:"next"===e.t3?47:50;break;case 44:return e.next=46,a.setState({progressSite:n-1});case 46:return e.abrupt("break",51);case 47:return e.next=49,a.setState({progressSite:n+1});case 49:case 50:return e.abrupt("break",51);case 51:return e.next=53,a.props.getProgressCrosswords(a.state.user._id,a.state.progressSite);case 53:return a.setState({progressCrosswords:a.props.crosswords.crosswords}),a.setState({prCrL:a.props.crosswords.length}),10*a.state.progressSite>=a.state.prCrL?a.setState({lastSiteProgress:!0}):a.setState({lastSiteProgress:!1}),a.setState({loaded:!0}),e.abrupt("break",58);case 58:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.renderAdded=function(e){return a.state.addedCrosswords.map((function(t){return r.a.createElement("div",{className:"crossword-bar"},r.a.createElement("div",null,"#",t.ID),r.a.createElement("div",null,t.values.length," x ",t.values[0].length),r.a.createElement("div",null,"TRIED: ",t.tries),r.a.createElement("div",null,"SOLVED: ",t.solvedBy.length),t.isApproved?r.a.createElement("div",{className:"green"},"APPROVED"):null,t.isRejected||t.isApproved?null:r.a.createElement("div",{className:"orange"},"UNAPPROVED"),t.isRejected?r.a.createElement("div",{className:"red"},"REJECTED"):null,r.a.createElement("button",{className:"form-button",section:"details",crossword:t.ID,onClick:e},r.a.createElement("i",{section:"details",crossword:t.ID,onClick:e,className:"fas fa-info"})))}))},a.renderSolved=function(e){return a.state.solvedCrosswords.map((function(t){var a=k(new Date(t.dateSolved));return r.a.createElement("div",{className:"crossword-bar"},r.a.createElement("div",null,"#",t.ID),r.a.createElement("div",null,t.across," x ",t.down),r.a.createElement("div",null," added by ",t.addedBy.login),r.a.createElement("div",null,"Date solved: ",a),r.a.createElement("button",{className:"form-button",section:"details",crossword:t.ID,onClick:e},r.a.createElement("i",{section:"details",crossword:t.ID,onClick:e,className:"fas fa-info"})))}))},a.renderProgress=function(e){return a.state.progressCrosswords.map((function(t){return r.a.createElement("a",{className:"crossword-bar"},r.a.createElement("div",null,"#",t.ID),r.a.createElement("div",null,t.values.length," x ",t.values[0].length),r.a.createElement("div",null,r.a.createElement("button",{className:"form-button",section:"details",crossword:t.ID,onClick:e},r.a.createElement("i",{section:"details",crossword:t.ID,onClick:e,className:"fas fa-info"})),r.a.createElement("a",{href:"/crosswords/".concat(t.ID)},r.a.createElement("button",{className:"form-button"},r.a.createElement("i",{className:"fas fa-play"})))))}))},a.state={section:"added",user:{},addedSite:1,solvedSite:1,progressSite:1,addedCrosswords:[],solvedCrosswords:[],progressCrosswords:[],addCrL:0,slvCrL:0,prCrL:0,lastSiteAdded:!1,lastSiteSolved:!1,lastSiteProgress:!1,loaded:!1,crosswordDetails:{},dtlSlv:0,dtlRts:0,dtlAdb:"",prevSection:""},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e;this.state.crosswordDetails&&(e=k(new Date(this.state.crosswordDetails.dateCreated)));var t=r.a.createElement("div",{className:"details-container"},r.a.createElement("button",{className:"form-button",section:this.state.prevSection,onClick:this.handleSection},r.a.createElement("i",{section:this.state.prevSection,className:"fas fa-chevron-left"})),r.a.createElement("div",null,"ID: ",this.state.crosswordDetails.ID),r.a.createElement("div",null,"Date Added: ",e),r.a.createElement("div",null,"Tried: ",this.state.crosswordDetails.tries),r.a.createElement("div",null,"Rating: ",this.state.crosswordDetails.ovrRating," (",this.state.dtlRts,")"),r.a.createElement("div",null,"Solved: ",this.state.dtlSlv),r.a.createElement("div",null,"Added by: ",this.state.dtlAdb),r.a.createElement("div",null,"Difficult: ",this.state.crosswordDetails.difficult),this.state.crosswordDetails.isRejected?r.a.createElement("div",null,r.a.createElement("b",null,"Reject message: ",this.state.crosswordDetails.rejectMsg)):null,r.a.createElement("a",{href:"/crosswords/".concat(this.state.crosswordDetails.ID)},r.a.createElement("button",{className:"form-button"},r.a.createElement("i",{className:"fas fa-eye"})))),a=r.a.createElement("div",{className:"type-container"},this.renderAdded(this.handleSection),r.a.createElement("div",{className:"button-container"},this.state.addedSite>1?r.a.createElement("button",{action:"prev",onClick:this.handleSite,className:"form-button"},r.a.createElement("i",{action:"prev",className:"fas fa-chevron-left"})):null,this.state.lastSiteAdded?null:r.a.createElement("button",{action:"next",onClick:this.handleSite,className:"form-button"},r.a.createElement("i",{action:"next",className:"fas fa-chevron-right"})))),n=r.a.createElement("div",{className:"type-container"},this.renderProgress(this.handleSection),r.a.createElement("div",{className:"button-container"},this.state.progressSite>1?r.a.createElement("button",{action:"prev",onClick:this.handleSite,className:"form-button"},r.a.createElement("i",{action:"prev",className:"fas fa-chevron-left"})):null,this.state.lastSiteProgress?null:r.a.createElement("button",{action:"next",onClick:this.handleSite,className:"form-button"},r.a.createElement("i",{action:"next",className:"fas fa-chevron-right"})))),s=r.a.createElement("div",{className:"type-container"},this.renderSolved(this.handleSection),r.a.createElement("div",{className:"button-container"},this.state.solvedSite>1?r.a.createElement("button",{action:"prev",onClick:this.handleSite,className:"form-button"},r.a.createElement("i",{action:"prev",className:"fas fa-chevron-left"})):null,this.state.lastSiteSolved?null:r.a.createElement("button",{action:"next",onClick:this.handleSite,className:"form-button"},r.a.createElement("i",{action:"next",className:"fas fa-chevron-right"})))),o=r.a.createElement(r.a.Fragment,null,"added"===this.state.section?r.a.createElement(r.a.Fragment,null,a):null,"solved"===this.state.section?r.a.createElement("div",null,s):null,"continue"===this.state.section?r.a.createElement("div",null,n):null,"details"===this.state.section?r.a.createElement("div",null,t):null);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section-menu-container"},"added"===this.state.section?r.a.createElement("button",{onClick:this.handleSection,section:"added",className:"section-menu-element-active"},"Added"):r.a.createElement("button",{onClick:this.handleSection,section:"added",className:"section-menu-element"},"Added"),"solved"===this.state.section?r.a.createElement("button",{onClick:this.handleSection,section:"solved",className:"section-menu-element-active"},"Solved"):r.a.createElement("button",{onClick:this.handleSection,section:"solved",className:"section-menu-element"},"Solved"),"continue"===this.state.section?r.a.createElement("button",{onClick:this.handleSection,section:"continue",className:"section-menu-element-active"},"In Progress"):r.a.createElement("button",{onClick:this.handleSection,section:"continue",className:"section-menu-element"},"In Progress")),r.a.createElement("div",{className:"section-content"},this.state.loaded?o:r.a.createElement(Y,null)))}}]),t}(r.a.Component),K=Object(w.b)((function(e){return{crosswords:e.crosswords,user:e.user,crossword:e.crossword}}),{getAddedCrosswords:function(e,t){return function(){var a=Object(d.a)(u.a.mark((function a(n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.get("crossword/addedby/".concat(e,"/").concat(t));case 2:r=a.sent,n({type:"GET_ADDED_CROSSWORDS",payload:r.data});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},getSolvedCrosswords:function(e,t){return function(){var a=Object(d.a)(u.a.mark((function a(n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.get("crossword/solvedby/".concat(e,"/").concat(t));case 2:r=a.sent,n({type:"GET_SOLVED_CROSSWORDS",payload:r.data});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},getProgressCrosswords:function(e,t){return function(){var a=Object(d.a)(u.a.mark((function a(n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.get("crossword/inprogress/".concat(e,"/").concat(t));case 2:r=a.sent,n({type:"GET_PROGRESS_CROSSWORDS",payload:r.data});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},getUser:x,getCrossword:D})(H),J=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).componentDidMount=Object(d.a)(u.a.mark((function e(){var t,n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y("jwt_access"),n=y("customerID"),!t){e.next=22;break}return e.prev=3,e.next=6,a.props.getUser(n,t);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return",window.location.replace("".concat(g)));case 11:a.setState({login:a.props.user.login}),a.setState({email:a.props.user.email}),a.setState({added:a.props.user.added.length}),a.setState({solved:a.props.user.solved.length}),r=0,s=0,a.props.user.added.map((function(e){e.isApproved?r+=1:e.isRejected&&(s+=1)})),a.setState({approved:r}),a.setState({rejected:s}),e.next=23;break;case 22:window.location.replace("".concat(g,"/login"));case 23:case"end":return e.stop()}}),e,null,[[3,8]])}))),a.showMessage=function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({message:t}),n?a.setState({isError:n}):a.setState({isError:!1}),a.setState({showMessage:!0}),setTimeout((function(){a.setState({showMessage:!1}),a.setState({message:""})}),5e3);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.handleChange=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({error:""}),e.t0=t.target.name,e.next="login"===e.t0?4:"email"===e.t0?6:"currentPassword"===e.t0?8:10;break;case 4:return a.setState({login:t.target.value}),e.abrupt("break",11);case 6:return a.setState({email:t.target.value}),e.abrupt("break",11);case 8:return a.setState({currentPassword:t.target.value}),e.abrupt("break",11);case 10:return e.abrupt("break",11);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleUpdate=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.setState({error:""}),n=y("jwt_access"),r=y("customerID"),""!==a.state.currentPassword){e.next=6;break}return e.abrupt("return",a.showMessage("You must type your current password to approve changes!",!0));case 6:return e.prev=6,e.next=9,a.props.userUpdate(a.state.login,a.state.email,a.state.currentPassword,r,n);case 9:a.showMessage(a.props.user),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(6),e.abrupt("return",a.showMessage(e.t0.response.data,!0));case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}(),a.state={user:{},login:"",email:"",currentPassword:"",error:"",added:"",solved:"",approved:"",rejected:"",message:"",showMessage:!1,isError:!1},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"details-section"},r.a.createElement("form",{className:"form",id:"update-form"},r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form-field"},r.a.createElement("label",null,"Login"),r.a.createElement("input",{type:"text",name:"login",onChange:this.handleChange,required:!0,value:this.state.login})),r.a.createElement("div",{className:"form-field"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",name:"email",value:this.state.email,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-field"},r.a.createElement("label",null,"Current password"),r.a.createElement("input",{type:"password",name:"currentPassword",onChange:this.handleChange,required:!0})),r.a.createElement("button",{onClick:this.handleUpdate,className:"form-button"},"UPDATE"))),this.state.error,r.a.createElement("div",null,"Added crosswords: ",this.state.added),r.a.createElement("div",null,"Approved crosswords: ",this.state.approved,"/",this.state.added),r.a.createElement("div",null,"Rejected crosswords: ",this.state.rejected,"/",this.state.added),r.a.createElement("div",null,"Solved crosswords: ",this.state.solved),this.state.showMessage?r.a.createElement(R,{message:this.state.message,isError:this.state.isError}):null)}}]),t}(r.a.Component),z=Object(w.b)((function(e){return{user:e.user}}),{getUser:x,userUpdate:function(e,t,a,n,r){return function(){var s=Object(d.a)(u.a.mark((function s(o){var c;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,b.put("user/update/".concat(n),{login:e,email:t,currentPassword:a},{headers:{token:r}});case 2:c=s.sent,o({type:"UPDATE_USER",payload:c.data});case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}})(J),X=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).componentDidMount=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y("jwt_access"),n=y("customerID"),!t){e.next=7;break}return e.next=5,a.props.getUser(n,t);case 5:e.next=8;break;case 7:window.location.replace("".concat(g,"/login"));case 8:case"end":return e.stop()}}),e)}))),a.handleChange=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({error:""}),e.t0=t.target.name,e.next="newPassword"===e.t0?4:"confirmNewPassword"===e.t0?6:"currentPassword"===e.t0?8:10;break;case 4:return a.setState({newPassword:t.target.value}),e.abrupt("break",11);case 6:return a.setState({confirmNewPassword:t.target.value}),e.abrupt("break",11);case 8:return a.setState({currentPassword:t.target.value}),e.abrupt("break",11);case 10:return e.abrupt("break",11);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.showMessage=function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({message:t}),n?a.setState({isError:n}):a.setState({isError:!1}),a.setState({showMessage:!0}),setTimeout((function(){a.setState({showMessage:!1}),a.setState({message:""})}),5e3);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.handleUpdate=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.setState({error:""}),n=y("jwt_access"),r=y("customerID"),""!==a.state.currentPassword){e.next=6;break}return e.abrupt("return",a.showMessage("You must type your current password to approve changes!",!0));case 6:return e.prev=6,e.next=9,a.props.passwordUpdate(a.state.newPassword,a.state.confirmNewPassword,a.state.currentPassword,r,n);case 9:a.showMessage(a.props.user),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(6),e.abrupt("return",a.showMessage(e.t0.response.data,!0));case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}(),a.state={user:{},newPassword:"",confirmNewPassword:"",currentPassword:"",error:"",message:"",showMessage:!1},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"details-section"},r.a.createElement("form",{className:"form",id:"update-form"},r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form-field"},r.a.createElement("label",null,"New Password"),r.a.createElement("input",{type:"password",name:"newPassword",onChange:this.handleChange,placeholder:"Type your new password...",required:!0})),r.a.createElement("div",{className:"form-field"},r.a.createElement("label",null,"Confirm New Password"),r.a.createElement("input",{type:"password",name:"confirmNewPassword",placeholder:"Confirm your new password...",onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-field"},r.a.createElement("label",null,"Current password"),r.a.createElement("input",{type:"password",name:"currentPassword",onChange:this.handleChange,placeholder:"Type your current password...",required:!0})),r.a.createElement("button",{onClick:this.handleUpdate,className:"form-button"},"UPDATE"))),this.state.error,this.state.showMessage?r.a.createElement(R,{message:this.state.message,isError:this.state.isError}):null)}}]),t}(r.a.Component),Z=Object(w.b)((function(e){return{user:e.user}}),{getUser:x,passwordUpdate:function(e,t,a,n,r){return function(){var s=Object(d.a)(u.a.mark((function s(o){var c;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,b.put("user/password/update/".concat(n),{newPassword:e,confirmNewPassword:t,currentPassword:a},{headers:{token:r}});case 2:c=s.sent,o({type:"UPDATE_PASSWORD",payload:c.data});case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}})(X),$=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).componentDidMount=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y("jwt_access"),n=y("customerID"),e.prev=2,e.next=5,a.props.getUser(n,t);case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",window.location.replace("".concat(g,"/login")));case 10:case"end":return e.stop()}}),e,null,[[2,7]])}))),a.handleSection=function(e){a.setState({section:e.target.name})},a.state={section:"details"},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section-menu-container"},"details"===this.state.section?r.a.createElement("button",{onClick:this.handleSection,name:"details",className:"section-menu-element-active"},"Account details"):r.a.createElement("button",{onClick:this.handleSection,name:"details",className:"section-menu-element"},"Account details"),"password"===this.state.section?r.a.createElement("button",{onClick:this.handleSection,name:"password",className:"section-menu-element-active"},"Change password"):r.a.createElement("button",{onClick:this.handleSection,name:"password",className:"section-menu-element"},"Change password")),r.a.createElement("div",{className:"section-content"},"details"===this.state.section?r.a.createElement(z,null):null,"password"===this.state.section?r.a.createElement(Z,null):null))}}]),t}(r.a.Component),ee=Object(w.b)((function(e){return{user:e.user}}),{getUser:x})($);var te=function(e){var t=e.user,a=e.handleChange,n=e.handleConfirm,s=e.handleClose;return r.a.createElement("div",{className:"confirmation-container"},r.a.createElement("div",{className:"confirmation-header"},r.a.createElement("p",null,"Confirm with your password")),r.a.createElement("div",{className:"confirmation-content"},r.a.createElement("div",null,"Are you sure you want to do this action for ",t,"?"),r.a.createElement("form",{id:"confirm-form"},r.a.createElement("div",{className:"form-container"},r.a.createElement("label",null,"Your password"),r.a.createElement("div",{className:"form-field"},r.a.createElement("input",{name:"password",onChange:a.bind(),placeholder:"Type your password",type:"password"}))),r.a.createElement("button",{onClick:n.bind(null),className:"form-button"},r.a.createElement("i",{className:"fas fa-check"})),r.a.createElement("button",{onClick:s.bind(null),style:{backgroundColor:"red"},className:"form-button"},r.a.createElement("i",{className:"fas fa-times"})))))},ae=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).showMessage=function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({message:t}),n?a.setState({isError:n}):a.setState({isError:!1}),a.setState({showMessage:!0}),setTimeout((function(){a.setState({showMessage:!1}),a.setState({message:""})}),5e3);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.handleSearch=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.setState({users:[]}),""!=a.state.query){e.next=4;break}return e.abrupt("return",a.showMessage("You must type query condition",!0));case 4:return n=y("jwt_access"),e.prev=5,e.next=8,a.props.getUsersByQuery(a.state.query,n);case 8:return e.next=10,a.setState({users:a.props.users});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),a.showMessage(e.t0.response.data,!0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),a.handleConfirm=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target,e.next=3,a.setState({user:n.name});case 3:return e.next=5,a.setState({userID:n.id});case 5:a.setState({confirm:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleAppoint=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=y("jwt_access"),e.prev=2,e.next=5,a.props.manageAdmin(a.state.userID,a.state.password,n,"add");case 5:a.props.showMessage(a.props.user),a.props.handleUpdate(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),a.showMessage(e.t0.response.data,!0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),a.handleClose=function(e){e.preventDefault(),a.setState({confirm:!1})},a.handleChange=function(e){switch(a.setState({error:""}),e.target.name){case"query":a.setState({query:e.target.value});break;case"password":a.setState({password:e.target.value})}},a.renderUsers=function(){return a.state.users.map((function(e){return r.a.createElement("div",{className:"query-users-element"},r.a.createElement("div",null,e.login)," ",r.a.createElement("button",{id:e._id,name:e.login,onClick:a.handleConfirm,className:"form-button"},"+"))}))},a.state={query:"",error:"",users:[],confirm:!1,user:"",userID:"",password:"",message:"",showMessage:!1,isError:!1},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"admin-form"},r.a.createElement("input",{name:"query",placeholder:"Search for users",onChange:this.handleChange}),r.a.createElement("button",{className:"form-button",onClick:this.handleSearch},"SEARCH"),this.state.error),this.state.users.length>0?r.a.createElement("div",{className:"query-users-container"},this.renderUsers()):null,this.state.confirm?r.a.createElement(te,{user:this.state.user,handleChange:this.handleChange,handleConfirm:this.handleAppoint,handleClose:this.handleClose}):null,this.state.showMessage?r.a.createElement(R,{message:this.state.message,isError:this.state.isError}):null)}}]),t}(r.a.Component),ne=Object(w.b)((function(e){return{users:e.users,user:e.user}}),{getUsersByQuery:function(e,t){return function(){var a=Object(d.a)(u.a.mark((function a(n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.get("user/query/".concat(e),{headers:{token:t}});case 2:r=a.sent,n({type:"GET_USERS_BY_QUERY",payload:r.data});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},manageAdmin:j})(ae),re=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).componentDidUpdate=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y("jwt_access"),!a.state.update){e.next=12;break}return e.prev=2,e.next=5,a.props.getAdmins(t);case 5:a.setState({admins:a.props.users}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a.setState({empty:e.t0.response.data});case 11:a.setState({update:!1});case 12:case"end":return e.stop()}}),e,null,[[2,8]])}))),a.componentDidMount=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y("jwt_access"),n=y("customerID"),!t){e.next=13;break}return e.prev=3,e.next=6,a.props.getUser(n,t);case 6:if(!1!==a.props.user.isAdmin){e.next=8;break}return e.abrupt("return",window.location.replace("".concat(g)));case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",window.location.replace("".concat(g,"/login")));case 13:return e.prev=13,e.next=16,a.props.getUnapprovedCrosswords(t);case 16:return e.next=18,a.props.getAdmins(t);case 18:a.setState({unapr:a.props.crosswords}),a.setState({admins:a.props.users}),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(13),a.setState({empty:e.t1.response.data});case 25:case"end":return e.stop()}}),e,null,[[3,10],[13,22]])}))),a.renderCrosswords=function(){return a.state.unapr.length>0?a.state.unapr.map((function(e){var t=k(new Date(e.dateCreated));return r.a.createElement("a",{href:"/admin/crossword/".concat(e.ID),className:"crossword-bar"},r.a.createElement("div",null,"#",e.ID),r.a.createElement("div",null,e.values.length," x ",e.values[0].length),r.a.createElement("div",null," added by ",e.addedBy.login),r.a.createElement("div",null,"Date added: ",t))})):r.a.createElement("div",null,a.state.empty)},a.handleConfirm=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target,e.next=3,a.setState({userID:n.id});case 3:return e.next=5,a.setState({user:n.name});case 5:a.setState({confirm:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.showMessage=function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({message:t}),n?a.setState({isError:n}):a.setState({isError:!1}),a.setState({showMessage:!0}),setTimeout((function(){a.setState({showMessage:!1}),a.setState({message:""})}),5e3);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.handleDetails=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=y("jwt_access"),e.prev=2,e.next=5,a.props.getUserById(t.target.id,n);case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",window.location.replace("".concat(g)));case 10:a.setState({section:""}),a.setState({details:!0}),a.setState({fetchedUser:a.props.user}),r=new Date(a.props.user.dateCreated),s=k(r),a.setState({userDateCr:s});case 16:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),a.renderAdmins=function(e,t){return a.state.admins.map((function(a){var n=k(new Date(a.dateCreated));return r.a.createElement("tr",null,r.a.createElement("td",null,a.login),r.a.createElement("td",null,a.email),r.a.createElement("td",null,n),r.a.createElement("td",null,r.a.createElement("button",{name:a.login,id:a._id,onClick:e,className:"form-button"},r.a.createElement("i",{name:a.login,id:a._id,onClick:e,className:"fas fa-trash-alt"})),r.a.createElement("button",{name:a.login,id:a._id,onClick:t,className:"form-button"},r.a.createElement("i",{name:a.login,id:a._id,onClick:t,className:"fas fa-info-circle"}))))}))},a.handleSection=function(e){a.setState({section:e.target.name}),a.setState({details:!1})},a.handleClose=function(e){e.preventDefault(),a.setState({confirm:!1})},a.handleChange=function(e){switch(e.target.name){case"password":a.setState({password:e.target.value})}},a.handleDelete=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=y("jwt_access"),e.prev=2,e.next=5,a.props.manageAdmin(a.state.userID,a.state.password,n,"delete");case 5:a.setState({confirm:!1}),a.setState({update:!0}),a.showMessage(a.props.user),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),a.showMessage(e.t0.response.data,!0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),a.handleAdd=function(){a.state.add?a.setState({add:!1}):a.setState({add:!0})},a.handleBack=function(){a.setState({details:!1}),a.setState({section:"admins"})},a.state={section:"admins",unapr:[],admins:[],empty:"",add:!1,update:!1,userID:"",user:"",confirm:!1,password:"",message:"",showMessage:!1,fetchedUser:{},details:!1,userDateCr:"",isError:!1},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section-menu-container"},"approve"===this.state.section?r.a.createElement("button",{onClick:this.handleSection,name:"approve",className:"section-menu-element-active"},"Crosswords to approve"):r.a.createElement("button",{onClick:this.handleSection,name:"approve",className:"section-menu-element"},"Crosswords to approve"),"admins"===this.state.section?r.a.createElement("button",{onClick:this.handleSection,name:"admins",className:"section-menu-element-active"},"Admins"):r.a.createElement("button",{onClick:this.handleSection,name:"admins",className:"section-menu-element"},"Admins")),r.a.createElement("div",{className:"section-content"},"approve"===this.state.section?r.a.createElement("div",{className:"type-container"},this.renderCrosswords()):null,"admins"===this.state.section?r.a.createElement("div",null,r.a.createElement("button",{style:{width:"auto",fontSize:"20px"},className:"form-button",onClick:this.handleAdd},r.a.createElement("i",{className:"fas fa-user-plus"})),this.state.add?r.a.createElement(ne,{showMessage:this.showMessage,handleUpdate:function(){e.setState({update:!0}),e.setState({add:!1})}}):null,r.a.createElement("table",{className:"render-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Login"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Date created"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,this.renderAdmins(this.handleConfirm,this.handleDetails)))):null,this.state.details?r.a.createElement("div",{className:"details-container"},r.a.createElement("button",{className:"form-button",onClick:this.handleBack},r.a.createElement("i",{className:"fas fa-chevron-left"})),r.a.createElement("div",null,"Login: ",this.state.fetchedUser.login),r.a.createElement("div",null,"E-mail: ",this.state.fetchedUser.email),r.a.createElement("div",null,"Approved crosswords: ",this.props.user.approved.length),r.a.createElement("div",null,"Crosswords added: ",this.props.user.added.length),r.a.createElement("div",null,"Date created: ",this.state.userDateCr)):null,this.state.confirm?r.a.createElement(te,{user:this.state.user,handleChange:this.handleChange,handleConfirm:this.handleDelete,handleClose:this.handleClose}):null,this.state.showMessage?r.a.createElement(R,{message:this.state.message,isError:this.state.isError}):null))}}]),t}(r.a.Component),se=Object(w.b)((function(e){return{crosswords:e.crosswords,users:e.users,user:e.user}}),{getUnapprovedCrosswords:function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.get("crossword/u/unapproved",{headers:{token:e}});case 2:n=t.sent,a({type:"GET_UNAPR",payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getAdmins:function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.get("user/admins",{headers:{token:e}});case 2:n=t.sent,a({type:"GET_ADMINS",payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},manageAdmin:j,getUserById:function(e,t){return function(){var a=Object(d.a)(u.a.mark((function a(n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.get("user/id/".concat(e),{headers:{token:t}});case 2:r=a.sent,n({type:"GET_USER_BY_ID",payload:r.data});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},getUser:x})(re),oe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).componentDidMount=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y("jwt_access"),n=y("customerID"),!t){e.next=15;break}return e.prev=3,e.next=6,a.props.getUser(n,t);case 6:a.setState({user:a.props.user}),a.setState({isAdmin:a.props.user.isAdmin}),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",window.location.replace("".concat(g,"/login")));case 13:e.next=16;break;case 15:return e.abrupt("return",window.location.replace("".concat(g,"/login")));case 16:a.setState({loaded:!0});case 17:case"end":return e.stop()}}),e,null,[[3,10]])}))),a.handleLeave=function(){var e=document.getElementsByClassName("menu-element-text");Array.from(e).map((function(e){e.style.display="none"}))},a.handleHover=function(){var e=document.getElementsByClassName("menu-element-text");Array.from(e).map((function(e){e.style.display="block"}))},a.state={user:{_id:"000",isAdmin:!1,loaded:!1}},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null,"administration"===this.props.match.params.section?r.a.createElement("a",{href:"/account/administration"},r.a.createElement("div",{className:"menu-element-active"},r.a.createElement("i",{className:"fas fa-user-shield"}),r.a.createElement("div",{className:"menu-element-text"}," Administration"))):r.a.createElement("a",{href:"/account/administration"},r.a.createElement("div",{className:"menu-element"},r.a.createElement("i",{className:"fas fa-user-shield"}),r.a.createElement("div",{className:"menu-element-text"}," Administration")))),t=r.a.createElement("div",{className:"account-container"},r.a.createElement("div",{onMouseEnter:this.handleHover,onMouseLeave:this.handleLeave,className:"menu-container"},"crosswords"===this.props.match.params.section?r.a.createElement("a",{href:"/account/crosswords"},r.a.createElement("div",{className:"menu-element-active"},r.a.createElement("i",{className:"fas fa-chess-board"})," ",r.a.createElement("div",{className:"menu-element-text"}," Crosswords"))):r.a.createElement("a",{href:"/account/crosswords"},r.a.createElement("div",{className:"menu-element"},r.a.createElement("i",{className:"fas fa-chess-board"})," ",r.a.createElement("div",{className:"menu-element-text"}," Crosswords"))),"settings"===this.props.match.params.section?r.a.createElement("a",{href:"/account/settings"},r.a.createElement("div",{className:"menu-element-active"},r.a.createElement("i",{className:"fas fa-cog"}),r.a.createElement("div",{className:"menu-element-text"}," Settings"))):r.a.createElement("a",{href:"/account/settings"},r.a.createElement("div",{className:"menu-element"},r.a.createElement("i",{className:"fas fa-cog"}),r.a.createElement("div",{className:"menu-element-text"}," Settings"))),this.state.isAdmin?e:null),r.a.createElement("div",{className:"content-account"},"crosswords"===this.props.match.params.section?r.a.createElement(K,{user:this.state.user}):null,"settings"===this.props.match.params.section?r.a.createElement(ee,{user:this.state.user}):null,"administration"===this.props.match.params.section?r.a.createElement(se,{user:this.state.user}):null));return r.a.createElement(r.a.Fragment,null,this.state.loaded?t:null)}}]),t}(r.a.Component),ce=Object(w.b)((function(e){return{user:e.user}}),{getUser:x})(oe);function ie(e){var t=e.showRange;return e.questions.map((function(e){var a="A".concat(e.number);return"across"===e.type?r.a.createElement("div",{className:"single-question",onClick:t.bind(null,a),id:"A".concat(e.number)},r.a.createElement("p",null,e.number,". ",e.text)):null}))}function le(e){var t=e.crossword,a=[];return t.map((function(e){e.map((function(e){""!==e.password&&a.push({value:e.value,number:e.password})}))})),a.sort(C),a.map((function(e){return r.a.createElement("td",null,r.a.createElement("div",{className:"field-container"},r.a.createElement("input",{readOnly:"true",type:"text",className:"field",value:e.value}),r.a.createElement("div",{className:"question-number"},e.number)))}))}function ue(e){var t=e.showRange;return e.questions.map((function(e){var a="D".concat(e.number);return"down"===e.type?r.a.createElement("div",{className:"single-question",onClick:t.bind(null,a),id:"D".concat(e.number)},r.a.createElement("p",null,e.number,". ",e.text)):null}))}function de(e){var t=e.moveCursor,a=e.showRange,n=e.handleChange;return e.columns.map((function(e){return"blank"!==e.value?r.a.createElement("td",null,r.a.createElement("div",{className:"field-container",onKeyUp:t.bind(),onClick:a.bind(null,e.questionRange),id:e.name},r.a.createElement("input",{value:e.value,onChange:n.bind(),type:"text",maxLength:"1",name:e.name,className:"field"}),""!==e.question?r.a.createElement("div",{id:e.name,className:"question-number"},e.question):null,""!==e.password?r.a.createElement("div",{id:e.name,className:"password-number"},e.password):null)):r.a.createElement("td",null,r.a.createElement("div",{className:"field-container",id:e.name,style:{backgroundColor:"black"}}))}))}function me(e){var t=e.moveCursor,a=e.showRange;return e.columns.map((function(e){return"blank"!==e.value?r.a.createElement("td",null,r.a.createElement("div",{className:"field-container",onKeyUp:t.bind(),onClick:a.bind(null,e.questionRange),id:e.name},r.a.createElement("input",{value:e.value,type:"text",maxLength:"1",name:e.name,readOnly:"true",className:"field"}),""!==e.question?r.a.createElement("div",{id:e.name,className:"question-number"},e.question):null,""!==e.password?r.a.createElement("div",{id:e.name,className:"password-number"},e.password):null)):r.a.createElement("td",null,r.a.createElement("div",{className:"field-container",id:e.name,style:{backgroundColor:"black"}}))}))}var pe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).handleChange=function(e){var t=a.state.crossword;t.map((function(t){t.map((function(t){t.name===e.target.name&&(t.value=e.target.value)}))})),a.setState({crossword:t})},a.handleTextArea=function(e){switch(e.target.name){case"rej-msg":a.setState({rejMsg:e.target.value})}},a.colorQuestion=function(e){var t=document.getElementsByClassName("single-question");Array.from(t).map((function(a,n){a.id===e?t[n].style.color="green":t[n].style.color="black"}))},a.renderRows=function(e,t,a,n,s){var o=s;return s.map((function(s,c){return r.a.createElement("tr",{key:c},n?r.a.createElement(me,{moveCursor:e,showRange:t,columns:o[c],key:c}):r.a.createElement(de,{moveCursor:e,showRange:t,handleChange:a,columns:o[c],key:c}))}))},a.showRange=function(e){var t,n=e;Array.isArray(n)?2===n.length?a.state.currentQuestion!==n[0]?(a.setState({currentQuestion:n[0]}),t=n[0]):(a.setState({currentQuestion:n[1]}),t=n[1]):(a.setState({currentQuestion:n[0]}),t=n[0]):(a.setState({currentQuestion:e}),t=e),a.colorQuestion(t);var r=a.state.crossword;r.map((function(e){e.map((function(e){if("blank"!==e.value){var t=document.getElementById(e.name).firstChild;t.style.backgroundColor="white",t.removeAttribute("readOnly")}}))}));var s=[];r.map((function(e){e.map((function(e){"blank"!==e.value&&(-1!==e.questionRange.indexOf(t)?(document.getElementById(e.name).firstChild.style.backgroundColor="green",s.push(e.name)):document.getElementById(e.name).firstChild.setAttribute("readOnly","true"))}))})),a.setState({currentRange:s})},a.moveCursor=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:((n=a.state.currentRange.indexOf(t.target.name))+1<a.state.currentRange.length||8===t.keyCode)&&(8!==t.keyCode&&18!==t.keyCode&&17!==t.keyCode&&16!==t.keyCode&&46!==t.keyCode&&document.getElementById(a.state.currentRange[n+1]).firstChild.focus(),8===t.keyCode&&n>0&&document.getElementById(a.state.currentRange[n-1]).firstChild.focus());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.showMessage=function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({message:t}),n?a.setState({isError:n}):a.setState({isError:!1}),a.setState({showMessage:!0}),setTimeout((function(){a.setState({showMessage:!1}),a.setState({message:""})}),5e3);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.handleView=function(){a.state.solution?(a.setState({solution:!1}),console.log("false")):(a.setState({solution:!0}),console.log("true"))},a.handleApprove=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=y("jwt_access"),e.prev=2,e.next=5,a.props.approveCrossword(a.state.crosswordID,"approve","",n);case 5:a.showMessage(a.props.crossword),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a.showMessage(e.t0.response.data,!0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),a.handleReject=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=y("jwt_access"),e.prev=2,e.next=5,a.props.approveCrossword(a.state.crosswordID,"reject",a.state.rejMsg,n);case 5:a.showMessage(a.props.crossword),a.setState({rejectMessage:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),a.showMessage(e.t0.response.data,!0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),a.handleMessage=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.setState({rejectMessage:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleClose=function(e){e.preventDefault(),a.setState({rejectMessage:!1})},a.state={loaded:!1,crossword:[],crosswordSolved:[],solution:!1,crosswordID:"",empty:!1,rejMsg:"",rejectMessage:!1,isError:!1},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y("jwt_access"),a=y("customerID"),!t){e.next=11;break}return e.prev=3,e.next=6,this.props.getUser(a,t);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return",window.location.replace("".concat(g)));case 11:if(!this.props.user.isAdmin){e.next=29;break}return e.prev=12,e.next=15,this.props.getCrossword(this.props.match.params.id);case 15:(this.props.crossword.isApproved||this.props.crossword.isRejected)&&this.setState({empty:!0}),this.setState({crosswordSolved:this.props.crossword.values}),n=this.props.crossword.values.map((function(e){return e.map((function(e){return"blank"!==e.value?{name:e.name,value:"",password:e.password,question:e.question,questionRange:e.questionRange}:{name:e.name,value:e.value,question:e.question,password:e.password}}))})),this.setState({crossword:n}),this.setState({questions:this.props.crossword.questions}),this.setState({crosswordID:this.props.crossword.ID}),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(12),this.setState({empty:!0});case 26:this.setState({loaded:!0}),e.next=30;break;case 29:t?window.location.replace("".concat(g)):window.location.replace("".concat(g,"/login"));case 30:case"end":return e.stop()}}),e,this,[[3,8],[12,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=r.a.createElement("div",null,"Oops! It looks like there's no crossword here!"),t=r.a.createElement("div",{className:"flex column"},r.a.createElement("button",{className:"form-button",onClick:this.handleView},"CHANGE VIEW"),r.a.createElement("div",{className:"table-container"},r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,this.state.solution?r.a.createElement(r.a.Fragment,null,this.renderRows(this.moveCursor,this.showRange,this.handleChange,this.state.solution,this.state.crosswordSolved)):r.a.createElement(r.a.Fragment,null,this.renderRows(this.moveCursor,this.showRange,this.handleChange,this.state.solution,this.state.crossword))))),r.a.createElement("div",{className:"under-table-container"},r.a.createElement("div",{className:"questions-container flex"},r.a.createElement("div",{className:"margin flex column"},r.a.createElement("h4",{className:"questions"},"ACROSS"),r.a.createElement(ie,{showRange:this.showRange,questions:this.state.questions})),r.a.createElement("div",{className:"margin flex column"},r.a.createElement("h4",{className:"questions"},"DOWN"),r.a.createElement(ue,{showRange:this.showRange,questions:this.state.questions}))),r.a.createElement("div",{className:"solution-container"},r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement(le,{crossword:this.state.crossword}))))),r.a.createElement("button",{onClick:this.handleApprove,className:"form-button"},"APPROVE"),r.a.createElement("button",{onClick:this.handleMessage,className:"form-button"},"REJECT"),this.state.error)),a=r.a.createElement(r.a.Fragment,null,this.state.empty?e:t),n=r.a.createElement("div",{className:"confirmation-container"},r.a.createElement("div",{className:"confirmation-header"},r.a.createElement("p",null,"Rejection message")),r.a.createElement("div",{className:"confirmation-content"},r.a.createElement("form",{id:"confirm-form"},r.a.createElement("div",{className:"form-container"},r.a.createElement("label",null,"Your message"),r.a.createElement("div",{className:"form-field"},r.a.createElement("textarea",{name:"rej-msg",col:"20",rows:"5",onChange:this.handleTextArea,placeholder:"Tell the creator of this crossword why are you rejecting it."}))),r.a.createElement("button",{onClick:this.handleReject,className:"form-button"},r.a.createElement("i",{className:"fas fa-check"})),r.a.createElement("button",{onClick:this.handleClose,style:{backgroundColor:"red"},className:"form-button"},r.a.createElement("i",{className:"fas fa-times"})))));return r.a.createElement(r.a.Fragment,null,this.state.loaded?a:r.a.createElement(Y,null),this.state.showMessage?r.a.createElement(R,{message:this.state.message,isError:this.state.isError}):null,this.state.rejectMessage?n:null)}}]),t}(r.a.Component),he=Object(w.b)((function(e){return{crossword:e.crossword,user:e.user}}),{getCrossword:D,getUser:x,approveCrossword:function(e,t,a,n){return function(){var r=Object(d.a)(u.a.mark((function r(s){var o;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.post("crossword/approve/".concat(e),{action:t,message:a,token:n});case 2:o=r.sent,s({type:"APPROVE_CROSSWORD",payload:o.data});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})(pe);var fe=function(e){var t=e.crosswords,a=e.user;return t.map((function(e){var t,n,s,o=!1;if(a)for(var c=0;c<a.tries.length;c++)if(e._id==a.tries[c]._id){t=0,n=0,o=!0,a.tries[c].values.map((function(e){e.map((function(e){"blank"!=e.value&&(t+=1),""!=e.value&&"blank"!=e.value&&(n+=1)}))}));var i=n/t*100;s=Number(Math.round(i+"e+0")+"e-0")}return e.solved?r.a.createElement("a",{href:"/crosswords/".concat(e.ID),className:"crossword-bar"},r.a.createElement("div",null,"#",e.ID),r.a.createElement("div",null,e.values.length," x ",e.values[0].length," added by ",e.addedBy.login),r.a.createElement("div",{className:"ui progress","data-percent":"100"},r.a.createElement("div",{className:"bar",style:{transitionDuration:"300ms",width:"100%",height:"100%"}},r.a.createElement("div",{className:"progress",style:{color:"black"}},"100%"))),r.a.createElement("div",null,"SOLVED! ",r.a.createElement("i",{style:{color:"lime",fontSize:"30px"},className:"fas fa-check"})),r.a.createElement("div",{className:"rating-bar-container"},r.a.createElement("i",{style:{color:"gold"},className:"fas fa-star"}),r.a.createElement("div",null,e.ovrRating,"/5 (",e.ratings.length,")"))):o?r.a.createElement("a",{href:"/crosswords/".concat(e.ID),className:"crossword-bar"},r.a.createElement("div",null,"#",e.ID),r.a.createElement("div",null,e.values.length," x ",e.values[0].length," added by ",e.addedBy.login," "),r.a.createElement("div",{className:"ui progress","data-percent":s},r.a.createElement("div",{className:"bar",style:{transitionDuration:"300ms",width:"".concat(s,"%"),height:"100%"}},r.a.createElement("div",{className:"progress",style:{color:"black"}},s,"%"))),r.a.createElement("div",null,"IN PROGRESS"),r.a.createElement("div",{className:"rating-bar-container"},r.a.createElement("i",{style:{color:"gold"},className:"fas fa-star"}),r.a.createElement("div",null,e.ovrRating,"/5 (",e.ratings.length,")"))):r.a.createElement("a",{href:"/crosswords/".concat(e.ID),className:"crossword-bar"},r.a.createElement("div",null,"#",e.ID),r.a.createElement("div",null,e.values.length," x ",e.values[0].length," added by ",e.addedBy.login),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",{className:"rating-bar-container"},r.a.createElement("i",{style:{color:"gold"},className:"fas fa-star"}),r.a.createElement("div",null,e.ovrRating,"/5 (",e.ratings.length,")")))}))},ve=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).componentDidMount=Object(d.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y("jwt_access"),n=y("customerID"),e.next=4,a.props.getAppCrosswords(t);case 4:if(!t){e.next=16;break}return e.prev=5,e.next=8,a.props.getUser(n,t);case 8:a.setState({user:a.props.user}),e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(5),S("customerID","",1e-5),S("jwt_access","",1e-5),e.abrupt("return");case 16:a.setState({crosswords:a.props.crosswords}),r=a.state.crosswords,t&&a.props.user.solved.length>0&&a.props.user.solved.map((function(e){var t=!1;for(var a in r)r[a].map((function(a){t=!1,a._id==e._id&&(t=!0,console.log(e._id+" "+a._id)),!0===t?(console.log(a._id),a.solved=!0):!0!==a.solved&&(a.solved=!1)}))})),a.setState({crosswords:r}),a.setState({beginner:r.beginner}),a.setState({semiAdvanced:r.semiAdvanced}),a.setState({advanced:r.advanced}),a.setState({expert:r.expert});case 24:case"end":return e.stop()}}),e,null,[[5,11]])}))),a.crosswords=function(e){console.log(e)},a.handleBack=function(){a.setState({current:[]}),a.setState({showCrosswords:!1})},a.handleClick=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("click"),e.t0=t.target.id,e.next="Beginner"===e.t0?4:"Semi-Advanced"===e.t0?7:"Advanced"===e.t0?10:"Expert"===e.t0?13:16;break;case 4:return e.next=6,a.setState({current:a.state.beginner});case 6:return e.abrupt("break",17);case 7:return e.next=9,a.setState({current:a.state.semiAdvanced});case 9:return e.abrupt("break",17);case 10:return e.next=12,a.setState({current:a.state.advanced});case 12:return e.abrupt("break",17);case 13:return e.next=15,a.setState({current:a.state.expert});case 15:case 16:return e.abrupt("break",17);case 17:a.state.current.length>0&&a.setState({showCrosswords:!0});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.renderCrosswords=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var s=a,o=["Beginner","Semi-Advanced","Advanced","Expert"];return s.map((function(t,a){var n=0;t.map((function(e){!0===e.solved&&(n+=1)}));var s=0;if(n>0){var c=n/t.length*100;s=Number(Math.round(c,"e+0")+"e-0")}return r.a.createElement("div",{className:"card-container",id:o[a],onClick:e},r.a.createElement("p",{className:"frame-header"},o[a]),r.a.createElement("p",{className:"solved-number"},"Solved: ",n,"/",t.length),r.a.createElement("div",{className:"ui progress","data-percent":s},r.a.createElement("div",{className:"bar",style:{transitionDuration:"300ms",width:"".concat(s,"%"),height:"100%"}},r.a.createElement("div",{className:"progress",style:{color:"black"}},s,"%"))))}))},a.state={crosswords:[],beginner:[],semiAdvanced:[],advanced:[],expert:[],showCrosswords:!1,current:[],error:""},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=r.a.createElement("div",{className:"crosswords-container"},this.renderCrosswords(this.handleClick,this.state.beginner,this.state.semiAdvanced,this.state.advanced,this.state.expert)),t=r.a.createElement("div",{className:"crosswords"},r.a.createElement("div",{className:"form-button",onClick:this.handleBack,style:{width:"100px"}},"BACK"),r.a.createElement("div",{className:"type-container"},r.a.createElement(fe,{crosswords:this.state.current,user:this.state.user}))),a=r.a.createElement(r.a.Fragment,null,this.state.showCrosswords?t:e),n=r.a.createElement(r.a.Fragment,null,this.state.error);return r.a.createElement(r.a.Fragment,null,""!==this.state.error?n:a)}}]),t}(r.a.Component),we=Object(w.b)((function(e){return{crosswords:e.crosswords,user:e.user}}),{getAppCrosswords:function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.get("crossword/a/approved",{headers:{token:e}});case 2:n=t.sent,a({type:"GET_APP_CROSSWORDS",payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUser:x})(ve);var Ee=function(){return r.a.createElement("div",null,"Oops, looks like there's no crossword")},be=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).showMessage=function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({message:t}),n?a.setState({isError:n}):a.setState({isError:!1}),a.setState({showMessage:!0}),setTimeout((function(){a.setState({showMessage:!1}),a.setState({message:""})}),5e3);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.handleEnter=function(e){var t=e.target.attributes.mark.value,a=document.getElementsByClassName("stars-container");Array.from(a[0].children).map((function(e){t>=e.attributes.mark.value&&(e.style.color="gold")}))},a.handleLeave=function(e){var t=document.getElementsByClassName("stars-container");Array.from(t[0].children).map((function(e){e.style.color="black"}))},a.handleRating=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y("jwt_access")){e.next=3;break}return e.abrupt("return",a.setState({error:"You have to be signed in if you want to add your rating."}));case 3:return e.prev=3,e.next=6,a.props.reviewCrossword(a.state._id,t.target.attributes.mark.value,n);case 6:a.showMessage(a.props.crossword),setTimeout((function(){window.location.reload()}),3e3),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),a.showMessage(e.t0.response.data,!0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),a.renderStars=function(){return[1,2,3,4,5].map((function(e){return a.state.rating>=e?r.a.createElement("i",{style:{color:"gold"},className:"fas fa-star"}):r.a.createElement("i",{className:"far fa-star"})}))},a.state={_id:e._id,showMessage:!1,isReviewed:e.isReviewed,rating:e.rating,message:""},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"You have added your rating to this crossword. Thank you!"),r.a.createElement("div",{className:"stars-container"},r.a.createElement("div",null,"Your rating: ",this.state.rating,"/5"),this.renderStars())),t=r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"What is your rating of this crossword?"),r.a.createElement("div",{className:"stars-container"},r.a.createElement("i",{mark:"1",onClick:this.handleRating,onMouseEnter:this.handleEnter,onMouseLeave:this.handleLeave,className:"far fa-star rate-star star1"}),r.a.createElement("i",{mark:"2",onClick:this.handleRating,onMouseEnter:this.handleEnter,onMouseLeave:this.handleLeave,className:"far fa-star rate-star star2"}),r.a.createElement("i",{mark:"3",onClick:this.handleRating,onMouseEnter:this.handleEnter,onMouseLeave:this.handleLeave,className:"far fa-star rate-star star3"}),r.a.createElement("i",{mark:"4",onClick:this.handleRating,onMouseEnter:this.handleEnter,onMouseLeave:this.handleLeave,className:"far fa-star rate-star star4"}),r.a.createElement("i",{mark:"5",onClick:this.handleRating,onMouseEnter:this.handleEnter,onMouseLeave:this.handleLeave,className:"far fa-star rate-star star5"})));return r.a.createElement("div",{className:"rate-container"},this.state.isReviewed?e:t,this.state.showMessage?r.a.createElement(R,{message:this.state.message,isError:this.state.isError}):null)}}]),t}(r.a.Component),ge=Object(w.b)((function(e){return{crossword:e.crossword,user:e.user}}),{reviewCrossword:function(e,t,a){return function(){var n=Object(d.a)(u.a.mark((function n(r){var s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.post("crossword/review/".concat(e),{rating:t},{headers:{token:a}});case 2:s=n.sent,r({type:"REVIEW_CROSSWORD",payload:s.data});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(be);function Se(e){var t=e.showRange;return e.questions.map((function(e){if("across"===e.type){var a="A".concat(e.number);return r.a.createElement("div",{onClick:t.bind(null,a),id:"A".concat(e.number),className:"single-question"},r.a.createElement("p",null,e.number,". ",e.text))}return null}))}function ye(e){var t=e.crossword,a=[];return t.map((function(e){e.map((function(e){""!==e.password&&a.push({value:e.value,number:e.password})}))})),a.sort(C),a.map((function(e){return r.a.createElement("td",null,r.a.createElement("div",{className:"field-container"},r.a.createElement("input",{readOnly:!0,type:"text",className:"field",value:e.value}),r.a.createElement("div",{className:"question-number"},e.number)))}))}function ke(e){var t=e.showRange;return e.questions.map((function(e){if("down"===e.type){var a="D".concat(e.number);return r.a.createElement("div",{onClick:t.bind(null,a),id:"D".concat(e.number),className:"single-question"},r.a.createElement("p",null,e.number,". ",e.text))}return null}))}function Ne(e){var t=e.moveCursor,a=e.showRange,n=e.handleChange,s=e.columns,o=e.isSolved;return s.map((function(e){return"blank"!==e.value?o?r.a.createElement("td",null,r.a.createElement("div",{className:"field-container",id:e.name},r.a.createElement("input",{readOnly:"true",value:e.value,onChange:n.bind(),type:"text",maxLength:"1",name:e.name,className:"field"}),""!==e.question?r.a.createElement("div",{id:e.name,className:"question-number"},e.question):null,""!==e.password?r.a.createElement("div",{id:e.name,className:"password-number"},e.password):null)):r.a.createElement("td",null,r.a.createElement("div",{className:"field-container",onClick:a.bind(null,e.questionRange),id:e.name},r.a.createElement("input",{value:e.value,onKeyUp:t.bind(),onChange:n.bind(),type:"text",maxLength:"1",name:e.name,className:"field"}),""!==e.question?r.a.createElement("div",{id:e.name,className:"question-number"},e.question):null,""!==e.password?r.a.createElement("div",{id:e.name,className:"password-number"},e.password):null)):r.a.createElement("td",null,r.a.createElement("div",{className:"field-container",id:e.name,style:{backgroundColor:"black"}}))}))}var Ce=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).colorQuestion=function(e){var t=document.getElementsByClassName("single-question");Array.from(t).map((function(a,n){a.id===e?t[n].style.color="green":t[n].style.color="black"}))},a.showRange=function(e){var t,n=e;Array.isArray(n)?2===n.length?a.state.currentQuestion!==n[0]?(a.setState({currentQuestion:n[0]}),t=n[0]):(a.setState({currentQuestion:n[1]}),t=n[1]):(a.setState({currentQuestion:n[0]}),t=n[0]):(a.setState({currentQuestion:e}),t=e),a.colorQuestion(t);var r=a.state.crossword;r.map((function(e){e.map((function(e){if("blank"!==e.value){var t=document.getElementById(e.name).firstChild;t.style.backgroundColor="white",t.removeAttribute("readOnly")}}))}));var s=[];r.map((function(e){e.map((function(e){"blank"!==e.value&&(-1!==e.questionRange.indexOf(t)?(document.getElementById(e.name).firstChild.style.backgroundColor="green",s.push(e.name)):document.getElementById(e.name).firstChild.setAttribute("readOnly","true"))}))})),a.setState({currentRange:s})},a.renderRows=function(e,t,a,n,s){var o=n;return n.map((function(n,c){return r.a.createElement("tr",{key:c},r.a.createElement(Ne,{moveCursor:e,showRange:t,handleChange:a,columns:o[c],isSolved:s,key:c}))}))},a.handleChange=function(e){var t=a.state.crossword;t.map((function(t){t.map((function(t){t.name===e.target.name&&(t.value=e.target.value.toUpperCase())}))})),a.setState({crossword:t})},a.showMessage=function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({message:t}),n?a.setState({isError:n}):a.setState({isError:!1}),a.setState({showMessage:!0}),setTimeout((function(){a.setState({showMessage:!1}),a.setState({message:""})}),5e3);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.handleSave=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y("jwt_access"),n=y("customerID"),a.setState({error:""}),e.prev=3,e.next=6,a.props.saveCrossword(a.state.crossword_id,a.state.crossword,n,t);case 6:a.showMessage(a.props.crossword),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a.setState({error:e.t0.response.data});case 12:case"end":return e.stop()}}),e,null,[[3,9]])}))),a.handleSolve=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y("jwt_access"),n=!1,a.state.crossword.map((function(e){e.map((function(e){""===e.value&&(n=!0)}))})),!n){e.next=5;break}return e.abrupt("return",a.showMessage("You cannot solve crossword without filling every single cell!",!0));case 5:return a.setState({error:""}),e.prev=6,e.next=9,a.props.solveCrossword(a.state.crossword_id,a.state.crossword,t);case 9:a.showMessage(a.props.crossword),setTimeout((function(){window.location.reload()}),3e3),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),a.showMessage(e.t0.response.data,!0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])}))),a.moveCursor=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.state.currentRange,((r=n.indexOf(t.target.name))+1<n.length||8===t.keyCode)&&(8!==t.keyCode&&18!==t.keyCode&&17!==t.keyCode&&16!==t.keyCode&&46!==t.keyCode&&document.getElementById(n[r+1]).firstChild.focus(),8===t.keyCode&&r>0&&document.getElementById(n[r-1]).firstChild.focus());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={loaded:!1,crossword:[],solution:!1,crosswordID:"",crossword_id:"",isSolved:!1,blank:!1,currentQuestion:"",currentRange:[],showMessage:!1,isError:!1,token:null,showRating:!1,isReviewed:!1,rating:0},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n,r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y("jwt_access"),a=y("customerID"),!t){e.next=12;break}return e.prev=3,e.next=6,this.props.getUser(a,t);case 6:this.setState({token:t}),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",window.location.replace("".concat(g)));case 12:return e.prev=12,e.next=15,this.props.getCrossword(this.props.match.params.id);case 15:e.next=20;break;case 17:return e.prev=17,e.t1=e.catch(12),e.abrupt("return",this.setState({blank:!0}));case 20:if(this.setState({crossword_id:this.props.crossword._id}),this.setState({questions:this.props.crossword.questions}),this.setState({crosswordID:this.props.crossword.ID}),this.props.crossword.isApproved){e.next=25;break}return e.abrupt("return",this.setState({blank:!0}));case 25:if(this.props.crossword){e.next=27;break}return e.abrupt("return",this.setState({blank:!0}));case 27:if(t&&this.props.user.solved.map((function(e){e._id==r.props.crossword._id&&(r.setState({isSolved:!0}),r.setState({showRating:!0}))})),!1!==this.state.isSolved){e.next=35;break}return n=this.props.crossword.values.map((function(e){return e.map((function(e){return"blank"!==e.value?{name:e.name,value:"",password:e.password,question:e.question,questionRange:e.questionRange}:{name:e.name,value:e.value,question:e.question,password:e.password}}))})),e.next=32,this.props.addTry(this.props.crossword._id);case 32:this.setState({crossword:n}),e.next=37;break;case 35:this.setState({crossword:this.props.crossword.values}),this.props.user.reviewed.map((function(e){e._id===r.state.crossword_id&&(r.setState({isReviewed:!0}),r.setState({rating:e.rating}))}));case 37:t&&this.props.user.tries.map((function(e){e._id==r.state.crossword_id&&r.setState({crossword:e.values})})),this.setState({loaded:!0});case 39:case"end":return e.stop()}}),e,this,[[3,9],[12,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=r.a.createElement("div",{className:"flex column"},r.a.createElement("h2",{className:"crossword-header"},"Crossword #",this.state.crosswordID),r.a.createElement("div",{className:"table-container"},r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,this.renderRows(this.moveCursor,this.showRange,this.handleChange,this.state.crossword,this.state.isSolved)))),r.a.createElement("div",{className:"under-table-container"},r.a.createElement("div",{className:"questions-container"},r.a.createElement("div",{className:"margin flex column"},r.a.createElement("h4",{className:"questions"},"ACROSS"),r.a.createElement(Se,{showRange:this.showRange,questions:this.state.questions})),r.a.createElement("div",{className:"margin flex column"},r.a.createElement("h4",{className:"questions"},"DOWN"),r.a.createElement(ke,{showRange:this.showRange,questions:this.state.questions})))),r.a.createElement("div",{className:"solution-container"},r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement(ye,{crossword:this.state.crossword}))))),r.a.createElement("div",{className:"button-container"},this.state.token&&!this.state.isSolved?r.a.createElement("button",{onClick:this.handleSave,className:"form-button"},"SAVE"):null,this.state.isSolved?r.a.createElement("h3",null,"You solved this crossword! Congratulations!"):r.a.createElement("button",{onClick:this.handleSolve,className:"form-button"},"SOLVE")),this.state.showRating?r.a.createElement(ge,{_id:this.state.crossword_id,isReviewed:this.state.isReviewed,rating:this.state.rating}):null,this.state.error),t=r.a.createElement("div",null,this.state.loaded?e:r.a.createElement("div",null,"Loading"));return r.a.createElement(r.a.Fragment,null,this.state.blank?r.a.createElement(Ee,null):t,this.state.showMessage?r.a.createElement(R,{message:this.state.message,isError:this.state.isError}):null)}}]),t}(r.a.Component),xe=Object(w.b)((function(e){return{crossword:e.crossword,user:e.user}}),{getCrossword:D,getUser:x,saveCrossword:function(e,t,a,n){return function(){var r=Object(d.a)(u.a.mark((function r(s){var o;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.post("crossword/tries/save/".concat(a),{_id:e,crossword:t},{headers:{token:n}});case 2:o=r.sent,s({type:"SAVE_CROSSWORD",payload:o.data});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},solveCrossword:function(e,t,a){return function(){var n=Object(d.a)(u.a.mark((function n(r){var s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.post("crossword/solve/".concat(e),{crossword:t},{headers:{token:a}});case 2:s=n.sent,r({type:"SOLVE_CROSSWORD",payload:s.data});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},addTry:function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.put("crossword/try/".concat(e));case 2:n=t.sent,a({type:"ADD_TRY",payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Ce),Oe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).componentDidMount=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.props.activateAccount(a.props.match.params.id,a.props.match.params.token);case 3:a.setState({message:a.props.user}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a.setState({error:e.t0.response.data});case 9:a.setState({loaded:!0});case 10:case"end":return e.stop()}}),e,null,[[0,6]])}))),a.state={error:"",loaded:!1,message:""},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=r.a.createElement("div",{className:"content-container"},this.state.error),t=r.a.createElement("div",{className:"content-container"},this.state.message," You can just ",r.a.createElement("a",{href:"".concat(g,"/login")},r.a.createElement("button",{className:"form-button"},"SIGN IN!"))),a=r.a.createElement("div",{className:"flex"},""===this.state.error?t:e);return r.a.createElement("div",null,this.state.loaded?a:null)}}]),t}(r.a.Component),je=Object(w.b)((function(e){return{user:e.user}}),{activateAccount:function(e,t){return function(){var a=Object(d.a)(u.a.mark((function a(n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.put("user/activate/".concat(e),{token:t});case 2:r=a.sent,n({type:"ACTIVATE_ACCOUNT",payload:r.data});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})(Oe),De=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).handleSend=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.props.resendActivation(a.props.match.params.id);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),a.setState({error:e.t0.response.data});case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),a.state={error:""},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"content-container"},"You have to activate your account. You should receive a message from our system to mailbox with you have registered. When you did not receive any message please check your SPAM or just ",r.a.createElement("button",{onClick:this.handleSend,className:"form-button"},"SEND")," it another time.")}}]),t}(r.a.Component),Re=Object(w.b)((function(e){return{crossword:e.crossword,user:e.user}}),{resendActivation:O})(De),Ae=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).handleChange=function(e){a.setState({message:""}),"email"===e.target.name&&a.setState({email:e.target.value})},a.handleForgot=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.setState({message:""}),""!==a.state.email){e.next=4;break}return e.abrupt("return",a.setState({message:"You have to type your email!"}));case 4:return e.prev=4,e.next=7,a.props.passwordReminder(a.state.email);case 7:a.setState({message:a.props.user}),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",a.setState({message:e.t0.response.data}));case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),a.handleResend=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.setState({message:""}),""!==a.state.email){e.next=4;break}return e.abrupt("return",a.setState({message:"You have to type your email!"}));case 4:return e.prev=4,e.next=7,a.props.resendActivation(a.state.email);case 7:a.setState({message:a.props.user}),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",a.setState({message:e.t0.response.data}));case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),a.state={email:"",message:""},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content-container"},r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form-field"},r.a.createElement("label",null,"Type your email and choose an action"),r.a.createElement("input",{type:"text",required:"true",name:"email",placeholder:"Type your email",onChange:this.handleChange})),r.a.createElement("div",{className:"flex"},r.a.createElement("button",{onClick:this.handleForgot,className:"form-button"},"FORGOT PASSWORD"),r.a.createElement("button",{onClick:this.handleResend,className:"form-button"},"RESEND ACTIVATION")))),this.state.message))}}]),t}(r.a.Component),qe=Object(w.b)((function(e){return{user:e.user}}),{passwordReminder:function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.post("user/reminder",{email:e});case 2:n=t.sent,a({type:"PASSWORD_REMINDER",payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},resendActivation:O})(Ae),Me=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).handleChange=function(e){switch(a.setState({message:""}),e.target.name){case"password":a.setState({password:e.target.value});break;case"confirmPassword":a.setState({confirmPassword:e.target.value})}},a.resetPassword=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,a.props.resetPassword(a.props.match.params.id,a.props.match.params.token,a.state.password,a.state.confirmPassword);case 4:a.setState({message:a.props.user}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",a.setState({message:e.t0.response.data}));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),a.state={password:"",confirmPassword:"",message:""},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content-container"},r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form-field"},r.a.createElement("label",null,"New password"),r.a.createElement("input",{type:"password",required:"true",name:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"form-field"},r.a.createElement("label",null,"Confirm new password"),r.a.createElement("input",{type:"password",required:"true",name:"confirmPassword",onChange:this.handleChange})),r.a.createElement("button",{onClick:this.resetPassword,className:"form-button"},"SEND"))),this.state.message))}}]),t}(r.a.Component),_e=Object(w.b)((function(e){return{user:e.user}}),{resetPassword:function(e,t,a,n){return function(){var r=Object(d.a)(u.a.mark((function r(s){var o;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.put("user/reset-password/".concat(e),{password:a,confirmPassword:n},{headers:{token:t}});case 2:o=r.sent,s({type:"RESET_PASSWORD",payload:o.data});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})(Me),Ie=(a(67),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(V,null),r.a.createElement(c.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,component:q}),r.a.createElement(i.a,{path:"/create",exact:!0,component:W}),r.a.createElement(i.a,{path:"/login",exact:!0,component:Q}),r.a.createElement(i.a,{path:"/account",exact:!0,component:ce}),r.a.createElement(i.a,{path:"/account/:section",exact:!0,component:ce}),r.a.createElement(i.a,{path:"/admin/crossword/:id",exact:!0,component:he}),r.a.createElement(i.a,{path:"/crosswords",exact:!0,component:we}),r.a.createElement(i.a,{path:"/crosswords/:id",exact:!0,component:xe}),r.a.createElement(i.a,{path:"/activation/:id/:token",exact:!0,component:je}),r.a.createElement(i.a,{path:"/activate-now/:id",exact:!0,component:Re}),r.a.createElement(i.a,{path:"/login-problems",exact:!0,component:qe}),r.a.createElement(i.a,{path:"/password-reset/:id/:token",exact:!0,component:_e}))))}),Te=a(39),Pe=a(16),Ue=Object(Pe.c)({crossword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CROSSWORD":case"GET_RANDOM_CROSSWORD":case"ADD_CROSSWORD":case"APPROVE_CROSSWORD":case"SAVE_CROSSWORD":case"SOLVE_CROSSWORD":case"REVIEW_CROSSWORD":return t.payload;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":case"ADD_USER":return t.payload;case"USER_LOGOUT":return{login:"",email:""};case"GET_USER":return t.payload;case"USER_REGISTER":return e;case"UPDATE_USER":case"UPDATE_PASSWORD":case"APPOINT_ADMIN":case"GET_USER_BY_ID":case"ACTIVATE_ACCOUNT":case"RESEND_ACTIVATION":case"PASSWORD_REMINDER":case"RESET_PASSWORD":return t.payload;default:return e}},crosswords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_UNAPR":case"GET_APP_CROSSWORDS":case"GET_ADDED_CROSSWORDS":case"GET_SOLVED_CROSSWORDS":case"GET_PROGRESS_CROSSWORDS":return t.payload;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ADMINS":case"GET_USERS_BY_QUERY":return t.payload;default:return e}},mail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MAIL":return t.payload;default:return e}}});o.a.render(r.a.createElement(c.a,null,r.a.createElement(w.a,{store:Object(Pe.d)(Ue,Object(Pe.a)(Te.a))},r.a.createElement(Ie,null))),document.querySelector("#root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.6e67ef9b.chunk.js.map